# REQ-2: 9档模式珠子点击功能

## 需求描述
用户在9档自由模式中，点击（轻触）珠子时，珠子应切换其激活状态。

## 功能规格

### 点击定义
- **点击**: 指针按下到抬起的移动距离 < DRAG_THRESHOLD (8px)
- **非点击**: 移动距离 >= 8px，视为拖拽操作

### 上珠点击
- **点击未激活上珠** → 上珠激活
- **点击已激活上珠** → 上珠复位

### 下珠点击
- **点击未激活下珠** → 下珠激活
- **点击已激活下珠** → 下珠复位

## 约束条件

| 参数 | 值 | 说明 |
|------|-----|------|
| DRAG_THRESHOLD | 8px | 移动距离小于此值视为点击 |
| 音效 | bead | 状态变化时播放音效 |

## 验收标准

### AC-2.1: 上珠点击切换
- **前置条件**: 9档自由模式
- **操作**: 点击（轻触）任意一档的上珠
- **预期结果**: 上珠状态切换（未激活→激活 或 激活→未激活）

### AC-2.2: 下珠点击切换
- **前置条件**: 9档自由模式
- **操作**: 点击（轻触）任意一档的下珠
- **预期结果**: 下珠状态切换

### AC-2.3: 数值正确更新
- **前置条件**: 9档自由模式，某档数值为 N
- **操作**: 点击该档上珠
- **预期结果**: 数值变为 (N + 5) % 10 或 (N - 5 + 10) % 10

## PBT 属性

### PROP-2.1: 点击幂等性（偶数次）
- **INVARIANT**: 对同一珠子连续偶数次点击应回到初始状态
- **FALSIFICATION**: 生成随机偶数次点击，验证最终状态等于初始状态

### PROP-2.2: 点击往返性
- **INVARIANT**: 单次点击切换状态，再点击一次应恢复原始状态
- **FALSIFICATION**: 执行点击-点击序列，检查是否回到初始

### PROP-2.3: 值域保持
- **INVARIANT**: 任意点击序列后，每一档的数值必须在 [0, 9]
- **FALSIFICATION**: 随机长序列点击后检查边界

### PROP-2.4: 点击与拖拽行为隔离
- **INVARIANT**: 指针按下后移动 < 8px 再抬起时判定为点击，移动 >= 8px 时不触发点击逻辑
- **FALSIFICATION**: 拖动后移回原位（净位移 < 8px）松开，检查是否错误触发点击
